!function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():e.log=t()}(this,function(){"use strict";function r(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function s(e,t){for(var n=0;n<p.length;n++){var o=p[n];this[o]=n<e?a:this.methodFactory(o,e,t)}}function u(e,t,n){return o=e,typeof console!==c&&(void 0!==console[o]?r(console,o):void 0!==console.log?r(console,"log"):a)||function(e,t,n){return function(){typeof console!==c&&(s.call(this,t,n),this[e].apply(this,arguments))}}.apply(this,arguments);var o}function t(n,e,t){function o(){var e;try{e=window.localStorage[l]}catch(e){}if(typeof e===c)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(l)+"=");n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}var r,a=this,l="loglevel";n&&(l+=":"+n),a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=t||u,a.getLevel=function(){return r},a.setLevel=function(e,t){if("string"==typeof e&&void 0!==a.levels[e.toUpperCase()]&&(e=a.levels[e.toUpperCase()]),!("number"==typeof e&&0<=e&&e<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;return r=e,!1!==t&&function(e){var t=(p[e]||"silent").toUpperCase();try{return window.localStorage[l]=t}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+t+";"}catch(e){}}(e),s.call(a,e,n),typeof console===c&&e<a.levels.SILENT?"No console available for logging":void 0},a.setDefaultLevel=function(e){o()||a.setLevel(e,!1)},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var i=o();null==i&&(i=null==e?"WARN":e),a.setLevel(i,!1)}var a=function(){},c="undefined",p=["trace","debug","info","warn","error"],n=new t,o={};n.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");return o[e]||(o[e]=new t(e,n.getLevel(),n.methodFactory))};var e=typeof window!==c?window.log:void 0;return n.noConflict=function(){return typeof window!==c&&window.log===n&&(window.log=e),n},n});var __escapeHTML=function(e){return e?("string"!=typeof e&&(e=e.toString()),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")):""},__unescapeHTML=function(e){return e?("string"!=typeof e&&(e=e.toString()),e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'")):""};!function(){"use strict";var I,S,L,D,O,r,a,w=(I=/[\s\n]/,S=/[\s\n]/g,L=/<\/?(?:[A-Za-z]+\w*)|<!--/,D=/(?:(?:&(?:amp|gt|lt|nbsp|quot|apos|#39);)|'|"|\\|\n)/g,O={"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'\\"',"&apos;":"\\'","&#39;":"\\'","'":"\\'","\\":"\\\\",'"':'\\"',"\n":"\\n"},function(e){for(var t=e.length,n=[],o=0;o<t;)if("<"===(a=e[o]))if(o++,"!--"===e.substring(o,o+3)){o+=3;var r=e.indexOf("--\x3e",o),o=-1===r?t:r+3}else{var a,l={type:"Tag",value:""},i="",s={},u=!1,c=!1;for("/"===(a=e[o])&&(a=e[++o],u=!0);o<t&&">"!==a&&"/"!==a&&!1===I.test(a);)i+=a,a=e[++o];for(;o<t&&">"!==a&&("/"!==a||">"!==e[o+1]);)if(!0===I.test(a))a=e[++o];else{for(var p="",f="";o<t&&"="!==a&&!1===I.test(a)&&">"!==a&&("/"!==a||">"!==e[o+1]);)p+=a,a=e[++o];if("="===a){var g=" ",v=!1,d=0;for('"'!==(a=e[++o])&&"'"!==a&&" "!==a&&"\n"!==a&&"{"!==a||(g=(v="{"===a)?"}":a,a=e[++o]),v&&(f+="{");o<t&&">"!==a&&("/"!==a||">"!==e[o+1]);){if((!v||v&&d<=0)&&a===g){v&&(f+="}"),a=e[++o];break}f+=a,"{"===a?d++:"}"===a&&d--,a=e[++o]}}var m={name:p,value:__unescapeHTML(f),argument:void 0,data:{}},h=p.split(":");2===h.length&&(m.name=h[0],m.argument=h[1]),s[p]=m}"/"===a?(o+=2,c=!0):o++,l.value=i,l.attributes=s,l.closeStart=u,l.closeEnd=c,n.push(l)}else{var y,w=e.substring(o),b=w.search(L);-1===b?(y=w,o=t):(y=w.substring(0,b),o+=b),0!==y.replace(S,"").length&&n.push({type:"Text",value:y.replace(D,function(e){return O[e]})})}return n}),b=(r={},a={start:"<%",end:"%>"},function e(t,n){var o=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};obj = obj || {};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").replace(new RegExp("'(?=[^"+a.end.substr(0,1)+"]*"+a.end+")","g"),"\t").split("'").join("\\'").replace(new RegExp("={(.+?(}+)?)}","g"),"=',__6oz.registerData($1),'").split("\t").join("'").replace(new RegExp(a.start+":(.+?)"+a.end,"g"),"',__escapeHTML($1),'").replace(new RegExp(a.start+"=(.+?)"+a.end,"g"),"',$1,'").split(a.start).join("');").split(a.end).join("p.push('")+"');}return p.join('');"):r[t]=r[t]||e(document.getElementById(t).innerHTML);return n?o(n):o}),E=/^on[a-z]+$/i,T=/^props$/i,C="__data",_=">>[6oz.js] ",e={},x=log.getLogger("6oz logger"),N={},j={},M={};function A(e,t,n){for(var o,r=[],a=0,l=!1,i=0,s=e.length;i<s;i++){var u,c,p=e[i],f=p.type,g=p.value,v=(o=g)&&-1<o.indexOf("-"),d=p.attributes&&p.attributes["skip-node"]&&"true"==p.attributes["skip-node"].value,m=function(e,t,n){var o=function(e,t,n){if(!e)return!1;var o,r=e.attributes,a=[],l=e.closeEnd?"elementVoid":"elementOpen",i=null;if(0<Object.keys(r).length)for(var s in r){var u,c,p=r[s],f=p.name,g=p.value.replace(/(?:\r\n|\r|\n)/g,""),v=E.test(f),d=T.test(f);"key-id"!=f.toLowerCase()?(a.push(JSON.stringify(p.name)),v?"function"==typeof function(e,t){if(-1==t.indexOf("."))return e[t];for(var n=t.split("."),o=e,r=!0,a=0,l=n.length;a<l;a++){var i=o[n[a]];if(!i){r=!1;break}o=i}return r?o:void 0}(t,g)?a.push(n+"."+g):(x.warn(_+"Could not find the function "+g+" so event was not bound."),a.pop()):d?(M.attributeProps||(M.attributeProps={}),u=JSON.stringify(p.value),(c=/\{([a-zA-Z0-9\-]+)\}/.exec(g))&&1<c.length&&(c=c[1],M.attributeProps[c]=j[c],u=C+".attributeProps['"+c+"']"),a.push(u)):a.push(JSON.stringify(g))):i=JSON.stringify(g)}return o=0<a.length?","+a.join(","):"",{elementType:l,tagAttributesString:o,elementKeyID:i}}(e,t,n);return o.elementKeyID=null==o.elementKeyID?"null":JSON.stringify(o.elementKeyID),o};if("ComponentStart"==f)M[p.attributes.componentID]=t,r.push("(function (o) {");else if("ComponentEnd"==f)r.push("})("+C+'["'+p.attributes.componentID+'"]);');else if("Tag"==f)if(p.closeStart||!d||l)if(p.closeStart&&!v)0==a--&&(l=!1),l||r.push('IncrementalDOM.elementClose("'+g+'");');else if(v&&!l){if(p.closeStart||p.closeEnd)p.closeStart||(c=R(p));else{for(var h=++i,y=1;i<s&&0<y;i++){var w=e[i];g==w.value&&(w.closeStart||w.closeEnd?w.closeStart&&y--:y++)}c=0<y?(x.warn(_+"No closing tag for component "+g+"."),i=h-1,R(p)):(i--,R(p,e.slice(h,i)))}if(!c)continue;r=r.concat(c)}else v||(a++,l||(u=m(p,t,n),r.push("IncrementalDOM."+u.elementType+'("'+g+'",'+u.elementKeyID+",null"+u.tagAttributesString+");")));else u=m(p,t,n),r.push("IncrementalDOM."+u.elementType+'("'+g+'",'+u.elementKeyID+",null"+u.tagAttributesString+");"),r.push("IncrementalDOM.skip();"),l=!0,a=0;else"Text"!=f||l||r.push('IncrementalDOM.text("'+g.replace(/(?:\r\n|\r|\n)/g,"")+'");')}return r}function R(e,t){var n=e.value.toLowerCase(),o=N[n];if(!o)return!1;var r,a,l=e.attributes,i={};for(var s in l){var u,c=l[s].value,p=(r=c)&&/^\{(.*)\}$/.exec(r);p&&1<p.length&&p[1]?(u=p[1],i[s]=j[u]):i[s]=c}var f={props:i};void 0!==o.controller&&(a=new o.controller(i),f.controller=a);var g=b(o.template,f),v=w(g),d=k();for(var m in v.unshift({type:"ComponentStart",attributes:{componentID:d}}),v.push({type:"ComponentEnd",attributes:{componentID:d}}),i.props={},i)i.props[m]=i[m];if(void 0!==a&&(i.controller=a),t)for(var h=0,y=v.length;h<y;h++)"slot"==v[h].value&&(v=v.slice(0,h).concat(t,v.slice(h+1)),h+=t.length-1,y+=t.length-1);return A(v,i,"o")}function k(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return(e()+e()+"-"+e()+"-4"+e().substr(0,3)+"-"+e()+"-"+e()+e()+e()).toLowerCase()}e.applyToDOM=function t(n,o,e){var r=b(o,e.data),a=A(w(r),e.functions,C+".__fn"),l=new Function(C,a.join(""));return M.__fn=e.functions,IncrementalDOM.patch(n,l,M),j={},M={},{update:function(e){t(n,o,e)}}},e.addComponent=function(e){if(!(e=e||{}).componentName||!e.template)return x.warn(_+"You must provide a componentName and template."),!1;var t,n=e.componentName.toLowerCase(),o=e.controller;if(/-[a-zA-Z0-9]+[^-]?$/.test(n)){if(!N[n])return void 0!==o&&"function"==typeof o&&(t=o),N[n]={template:e.template,controller:t},!0;x.warn(_+"A component with name "+n+" has already been added.")}else x.warn(_+"You must provide a valid component name ["+n+"].  It must be kebab case, must contain at least one hyphen, and must not end with a hyphen.")},e.registerData=function(e){var t=k();return j[t]=e,"{"+t+"}"},window.__6oz=e,IncrementalDOM.attributes.props=function(e,t,n){e[t]=n}}();